% UPDATED BY MARCUS SCHAGERBERG, 2023
% CREATED BY DAVID FRISK, 2016

%\section{Section levels}
%The following table presents an overview of the section levels that are used in this document. The number of levels %that are numbered and included in the table of contents is set in the settings file \texttt{settings.tex}. The levels %are shown in Section \ref{Section_ref}.

%\begin{table}[H]
%\centering
%\begin{tabular}{ll} \hline\hline
%Name & Command\\ \hline
%Chapter & \textbackslash\texttt{chapter\{\emph{Chapter name}\}}\\
%Section & \textbackslash\texttt{section\{\emph{Section name}\}}\\
%Subsection & \textbackslash\texttt{subsection\{\emph{Subsection name}\}}\\
%Paragraph & \textbackslash\texttt{paragraph\{\emph{Paragraph name}\}}\\
%Subparagraph & \textbackslash\texttt{paragraph\{\emph{Subparagraph name}\}}\\ \hline\hline
%\end{tabular}
%\end{table}

\section{Background}


\section{Purpose}
    The purpose of the project is to design and construct a 3D traffic simulation tool with high accessibility that should provide detailed and accessible data that allows the user to evaluate the performance of different road networks and traffic scenarios, and make informed decisions about urban planning and infrastructure. Data should be presented both in real-time, and as post-simulation data through presentation of relevant statistics. By adjusting the parameters of the simulation, the user should be able to witness the effect of their tweaking, and easily see if their changes have a positive or negative impact across relevant environmental dimensions such as traffic flow, travel time, and emissions. 

\section{Related Work} \label{Section_ref}
    \subsection{Microscopic Traffic Simulations}
        There exists a plethora of different available tools for traffic simulation, which are in turn built upon different underlying models. In Nguyen’s widely cited paper, he classifies the currently available simulations according to the following four categories with regards to their granularity of model: Macroscopic, Microscopic, Mesoscopic, and Nanoscopic. These tools allow researchers to answer complex questions and evaluate different scenarios in both real-time observations and through post-simulation data analysis.

        Agent-based traffic models position themselves within the Microscopic category and allows for a highly realistic representation of traffic flow, where emergent behaviors such as congestion and bottleneck formation can occur due to the natural occurring interplay of the autonomous agents within the simulation. 

        Simulation of Urban MObility (SUMO) is a highly popular and freely available microscopic traffic simulation that was initially developed at the German Aerospace Center (DLR). It provides the users with the ability to model a range of transportation agents, including cars, buses, bicycles, and pedestrians, in both urban environments. The simulation is deterministic by default, but users have the option to introduce stochastic processes in different ways, making it a highly versatile tool for traffic simulation and analysis.

        The software offers various tools creating networks and editing these through a map editor which can also import and export network data from external sources. In addition to this, SUMO provides the user with features for visualizing the obtained data and analyzing it through various reports and plots. Users can also customize SUMO to accommodate their specific need through the application programming interface (API) and integrate the simulation with other software. SUMO is also capable of modeling emission based on vehicle type and speed.

        Another popular for simulating traffic is the commercial software PTV Vissim designed by the German-based company PTV group which specializes in mobility and transportation solutions. It is designed to be quick and simple to set up with no scripting required by the user and comes with a highly customizable editor. The software is part of a larger suite named PTV Traffic Suite, which allows it to exchange data and collaborate across multiple platforms.

        PTV Vissim offers a similar feature list to SUMO but differs in some important areas. Firstly, they are built upon different Car following models. SUMO implements the Krauss model which is based on the idea that drivers adjust their vehicle’s speed and headway based on their perceived safety and comfort. Though a relatively easy to understand model, it has the disadvantage of assuming that the drivers only react to the speed and distance of the vehicle in front of them, and excludes a lot of factors such as the traffic signals, shape of the road, and driver psychology.

        Meanwhile, PTV Vissim implements the Wiedemann models which share a lot of the same model parameters as the previously mentioned Krauss model but differ in their mathematical formulations and the way they calculate the acceleration of a vehicle. The model also introduces additional parameters, for example, a parameter for setting driver aggressiveness which regulates how risk-taking a driver is willing to be, and a parameter to regulate reaction time. Due to the additional parameters introduced here, the Wiedemann model is considered more realistic compared to the Krauss model, but is at the same time deemed to be more complex and requires a significant amount of parameter calibration.

        Another crucial difference between the two simulation tools is that SUMO natively only supports graphical representation of a traffic environment in low detailed 2D, while PTV Vissim offers a feature rich 3D visualization. The latter provides a range of tools for customizing the 3D visualization, including options for importing third party 3D models, setting and creating custom textures, and defining various customized visual effects. 

    \subsection{ABMU}
        Agent-Based Modelling Framework for Unity3D (ABMU) is an open-source 3D agent-based modeling platform developed with the Unity3D game engine. It was developed as a response to the lack of support for 3D ABMs, and offers an extensible and user-friendly programming interface for Unity’s resources to create the foundation for a powerful and extensible model.

        Some key features of ABMU include event scheduling and synchronous updates by a dedicated scheduler class to delegate events in a manner that is decoupled from Unity’s native event execution order, ensuring a more robust and accurate simulation. Furthermore, ABMU introduces wrappers around native Unity methods, enabling them to be used as Steppers within the framework, and allowing for easy extension using existing Unity libraries which can provide complex behaviors such as advanced pathfinding and physics simulation systems.

        ABMU also provides a set of example models, ranging from novel neighbor detection models to replications of well-known ABM models from literature, such as Epstein and Axtell's Sugarscape model, Reynolds' Boids model, and Schelling's segregation model. These examples demonstrate the flexibility and capability of the framework, as well as offer guidance for users looking to develop their own models.

\section{Societal and ethical aspects}
    Ethical aspects can be broken down into two parts: aspects related to the method of the project, and possible consequences for users of the final product and society as a whole.  With regards to making sure that our methods adhere to an ethical practice, the main thing to be aware of here lays in data handling during user testing. It will be crucial to ensure that data is both collected and stored in a responsible manner. This will involve structuring clear consent forms, anonymizing data, and adhering to relevant data protection regulations such as the General Data Protection Regulation (GDPR).

    The ethical aspects of the finished product however, is accompanied by more complex considerations. One of the goals of this project is to create a tool that can be used by different end-users of various occupation connected to traffic planning, and offer these users insight about the efficiency and emission associated with different set up of road networks. Since these insights might lead to real-life decisions regarding actual infrastructure, careful consideration will have to be taken regarding the design we choose to implement and what sort of consequences these might have in the finished product. To instill model credibility and prevent model realism bias, we will have to communicate any assumptions and limitation of the model in an easy and accessible manner. ABMs are generally considered challenging with regards to validation and traceability\cite{abm-validation-issues}, and failing to mitigate these might lead to decisions being implemented on obscure premises. 
